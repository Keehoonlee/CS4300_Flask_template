<!DOCTYPE html>
<html>
<head>
  <title> Foodies </title>


  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <!--
  Import
  -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="{{url_for('static', filename='style.css')}}" rel="stylesheet">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

  <link rel="shortcut icon" type="image/x-icon" href="{{url_for('static', filename='image/iconletter.png')}}">
</head>

<body>
  <!-- <nav class="navbar navbar-inverse navbar-fixed-top" style="background: #FFFFFF; border: none; height: 70px; opacity:0.9;">
    <div class="nav-container">
      <div class="navbar-header">
        <a class="navbar-brand" onclick='history.back(-1)'>
          <img src="{{url_for('static', filename='image/icon.png')}}" alt="asdf">
        </a>
      </div>
    </div>
  </nav>
  <div style="height:70px;"> </div> -->

  <a class="navbar-brand" onclick='history.back(-1)'>
    <img src="{{url_for('static', filename='image/icon.png')}}" alt="asdf">
  </a> <br /><br /><br /><br />

  <div class="text-center">
    <font size="5" color="black" face="Arial Black">SEARCHED </font> <br />
    <font size="3" color="grey" face="Courier New">CITY: </font>
    <font size="3" color="black" face="Courier New">{{city}} </font> <br />
    <font size="3" color="grey" face="Courier New">NEIGHBORHOOD: </font>
    <font size="3" color="black" face="Courier New">{{neighborhood}} </font> <br />
    <font size="3" color="grey" face="Courier New">DATE POSTED: </font>
    <font size="3" color="black" face="Courier New">{% if time == "0" %} All Reviews {% else %} upto {{time}} months old {% endif %}</font> <br />
    <font size="3" color="grey" face="Courier New">CREDIBILITY: </font>
    <font size="3" color="black" face="Courier New">{{credibility}} </font> <br /><br /><br />
  </div>

  <div class="container" id="output">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
          <canvas id="pie-chart" width="360" height="300">

      </div>
    </div>
  </div>
  <br />

  <div class="container" id="output">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <canvas id="pie-chart" width="5000" height="10"></canvas>
        <div class="panel panel-default">
          <div class="panel-heading"><font size="3" color="grey" face="Courier New"><center>Top 5 Restaurants for {{labels[0]}}</center></font></div>
          <div class="panel-body">
            {% for restaurant in top_rest[labels[0].lower()] %}
              <font size="3" color="black" face="Courier New"><center>{{restaurant}}</center></font>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <br /><br />

  <div class="container" id="output">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <canvas id="pie-chart_pos" width="360" height="300"></canvas>

      </div>
    </div>
  </div>
  <br />

  <div class="container" id="output">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <canvas id="pie-chart" width="5000" height="10"></canvas>
        <div class="panel panel-default">
          <div class="panel-heading"><font size="3" color="grey" face="Courier New"><center>Top 5 Restaurants for {{labels_pos[0]}}</center></font></div>
          <div class="panel-body">
            {% for restaurant in top_rest_pos[labels_pos[0].lower()] %}
              <font size="3" color="black" face="Courier New"><center>{{restaurant}}</center></font>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <br /><br />

  <div class="container" id="output">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <canvas id="pie-chart_neg" width="360" height="300"></canvas>

      </div>
    </div>
  </div>
  <br />

  <div class="container" id="output">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <canvas id="pie-chart" width="5000" height="10"></canvas>
        <div class="panel panel-default">
          <div class="panel-heading"><font size="3" color="grey" face="Courier New"><center>Top 5 Restaurants for {{labels_neg[0]}}</center></font></div>
          <div class="panel-body">
            {% for restaurant in top_rest_neg[labels_neg[0].lower()] %}
              <font size="3" color="black" face="Courier New"><center>{{restaurant}}</center></font>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="{{url_for('static', filename='main.js')}}" type="text/javascript"></script>
  <script>
  new Chart(document.getElementById("pie-chart"), {
    type: 'pie',
    data: {
      labels: [{% for item in labels %}
                  "{{item}}",
               {% endfor %}],
      datasets: [{
        label: "Percentage",
        backgroundColor: ["#F48B8B", "#F8A451", "#F9F274", "#C7E753", "#84EB7B", "#67E4DD", "#84CEF9", "#84AEF9", "#C58AF1", "#EE7AA4","#C58AF1", "#EE7AA4","#C58AF1", "#EE7AA4"],
        data:[{% for item in data %} "{{item}}", {% endfor %}]
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Pittsburgh Neighborhood (All Reviews)'
      },
      responsive: false
    }
  });

  new Chart(document.getElementById("pie-chart_pos"), {
    type: 'pie',
    data: {
      labels: [{% for item in labels_pos %}
                  "{{item}}",
               {% endfor %}],
      datasets: [{
        label: "Percentage",
        backgroundColor: ["#1B4F72", "#21618C", "#2874A6", "#2E86C1", "#3498DB", "#5DADE2", "#85C1E9", "#AED6F1", "#D6EAF8", "#EBF5FB", "#D6EAF8", "EBF5FB", "#D6EAF8", "EBF5FB"],
        data:[{% for item in data_pos %} "{{item}}", {% endfor %}]
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Pittsburgh Neighborhood (Positive Reviews)'
      }
    }
  });

  new Chart(document.getElementById("pie-chart_neg"), {
    type: 'pie',
    data: {
      labels: [{% for item in labels_neg %}
                  "{{item}}",
               {% endfor %}],
      datasets: [{
        label: "Percentage",
        backgroundColor: ["#4d0000", "#660000", "#800000", "#b30000", "#e60000", "#ff1a1a", "#ff4d4d", "#ff6666", "#ff8080", "#ff9999", "#ffb3b3", "#ffcccc", "#ffe6e6"],
        data:[{% for item in data_neg %} "{{item}}", {% endfor %}]
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Pittsburgh Neighborhood (Negative Reviews)'
      }
    }
  });

  </script>

</body>

</html>
